"use strict";window.addEventListener("DOMContentLoaded",function(){!function(){ymaps.ready(function(){(e=new ymaps.Map("yandex-map",{center:[55.753595,37.621031],zoom:16})).behaviors.disable("scrollZoom"),e.behaviors.disable("drag"),e.events.add("click",function(){e.behaviors.enable("scrollZoom"),e.behaviors.enable("drag")}),t=new ymaps.Placemark([55.753595,37.621031],{},{iconLayout:"default#image",iconImageSize:[20,20]}),e.geoObjects.add(t)});var e=void 0,t=void 0}(),function(){var e=$("#menu__button"),t=$(".nav-list"),n=$(".nav__link"),a="nav-list--active";function o(){e.hasClass("active")?e.removeClass("active"):e.addClass("active")}e.on("click",function(e){e.preventDefault(),t.toggleClass(a),o()}),n.on("click",function(){t.removeClass(a),o()}),$(window).resize(function(){1024<$(window).width()&&(t.removeAttr("style"),t.removeClass(a),e.hasClass("active")&&e.removeClass("active"))})}(),$("#slick").slick({dots:!1,infinite:!1,speed:1e3,touchMove:!0,autoplay:!0,slidesToShow:1,slidesToScroll:1,draggable:!0,pauseOnHover:!0,prevArrow:'<button type="button" class="slick-arrow slick-prev"><span>Previous</span></button>',nextArrow:'<button type="button" class="slick-arrow slick-next"><span>Next</span></button>',responsive:[{breakpoint:600,settings:{arrows:!1}}]}),function(){var e=document.getElementById("square"),t=document.getElementById("lamps"),n=document.querySelectorAll(".calc-checkbox__item"),a=document.querySelector(".calc__btn"),o=document.getElementById("total"),r=document.querySelector(".square-warning"),d=document.querySelector(".lamps-warning"),l=void 0,u=0,v=0,y=0;function s(e,t){var n=document.getElementById(e);if(n){var a=n.value;t.test(a)||(a=""),setInterval(function(){var e=n.value;e!=a&&(t.test(e)?a=e:n.value=a)},10)}}s("square",/^\d*\.?\d*$/),s("lamps",/^[0-9]?[0-9]*$/),e.addEventListener("keyup",function(){v=e.value,r.style.display="",d.style.display="",o.textContent=0,u=l*v+50*y}),t.addEventListener("keyup",function(){y=t.value,r.style.display="",d.style.display="",o.textContent=0,u=l*v+50*y}),function(){for(var e=function(e){n[e].checked&&(l=n[e].value),n[e].addEventListener("change",function(){o.textContent=0,l=n[e].value,u=l*v+50*y})},t=0;t<n.length;t++)e(t)}(),a.addEventListener("click",function(){var e,t,n,a,o,l,s,i,c;""==v&&""==y?(u=0,r.style.display="block",d.style.display="block"):0==v&&0==y?(u=0,r.style.display="block",d.style.display="block"):""==v||0==v?(u=0,r.style.display="block"):""==y||0==y?(u=0,d.style.display="block"):(r.style.display="",d.style.display="",e="total",a=3e3,o=(n=u)-(t=0),l=t,s=Math.abs(Math.floor(a/o)),i=document.getElementById(e),c=setInterval(function(){l+=50,i.textContent=l,n<=l&&clearInterval(c)},s))})}(),$("nav a,a[href='#top'],a[rel='m_PageScroll2id'],a.PageScroll2id").mPageScroll2id({highlightSelector:"nav a"}),(new WOW).init(),$(window).scroll(function(){700<$(this).scrollTop()?$("#toTop").fadeIn():$("#toTop").fadeOut()}),$("#toTop").click(function(){$("body,html").animate({scrollTop:0},800)})});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInltYXBzIiwibXlNYXAiLCJNYXAiLCJjZW50ZXIiLCJ6b29tIiwiYmVoYXZpb3JzIiwiZGlzYWJsZSIsImV2ZW50cyIsImFkZCIsIm15UGxhY2VtYXJrIiwiUGxhY2VtYXJrIiwiaWNvbkltYWdlU2l6ZSIsImljb25MYXlvdXQiLCJnZW9PYmplY3RzIiwibWVudUJ1dHRvbiIsIm1lbnVNb2JpbGVPcGVuIiwibWVudU1vYmlsZSIsIiQiLCJtZW51TGluayIsInNjcmVlbldpZHRoQ2hlY2siLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiZSIsInByZXZlbnREZWZhdWx0IiwidG9nZ2xlQ2xhc3MiLCJvbiIsInJlbW92ZUF0dHIiLCJoYXNDbGFzcyIsInRvdWNoTW92ZSIsImF1dG9wbGF5Iiwic2xpZGVzVG9TaG93Iiwic2xpZGVzVG9TY3JvbGwiLCJkcmFnZ2FibGUiLCJwYXVzZU9uSG92ZXIiLCJwcmV2QXJyb3ciLCJuZXh0QXJyb3ciLCJyZXNwb25zaXZlIiwiYnJlYWtwb2ludCIsInNldHRpbmdzIiwiYXJyb3dzIiwic3F1YXJlIiwiY2hlY2tib3hWYWx1ZSIsImxhbXBzIiwibGFtcHNQcmljZSIsImdldEVsZW1lbnRCeUlkIiwiY2hlY2tib3hlcyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsImNhbGNCdG4iLCJyZXN1bHQiLCJxdWVyeVNlbGVjdG9yIiwiY2FsY1RvdGFsIiwic3F1YXJlVmFsdWUiLCJzcXVhcmVXYXJuaW5nIiwibGFtcHNWYWx1ZSIsImxhbXBzV2FybmluZyIsInRvdGFsIiwiZWxlbWVudCIsInJlZ2V4IiwibGFzdFZhbHVlIiwic2V0SW50ZXJ2YWwiLCJ2YWx1ZSIsImlkIiwidGVzdCIsImlucHV0Q2hlY2siLCJ0ZXh0Q29udGVudCIsImRpc3BsYXkiLCJzdHlsZSIsImNoZWNrYm94ZXNDaGVjayIsImNoZWNrZWQiLCJpIiwiX2xvb3AiLCJpbmNyZW1lbnQiLCJlbmQiLCJkdXJhdGlvbiIsInJhbmdlIiwiY3VycmVudCIsInN0ZXBUaW1lIiwidGltZXIiLCJmbG9vciIsImNsZWFySW50ZXJ2YWwiLCJtUGFnZVNjcm9sbDJpZCIsImhpZ2hsaWdodFNlbGVjdG9yIiwic2Nyb2xsIiwidGhpcyIsInNjcm9sbFRvcCIsImZhZGVJbiIsImZhZGVPdXQiLCJjbGljayIsImFuaW1hdGUiXSwibWFwcGluZ3MiOiJhQUFBQSxPQUFPQyxpQkFBaUIsbUJBQW9CLFlBUTVDLFdBRUlDLE1BQUFBLE1BS0EsWUFFSUMsRUFBQUEsSUFBUUQsTUFBSUEsSUFBTUUsYUFBSSxDQUNsQkMsT0FBQUEsQ0FBQUEsVUFBUyxXQUNUQyxLQUFBQSxNQUdKSCxVQUFNSSxRQUFVQyxjQUNoQkwsRUFBQUEsVUFBTUksUUFBVUMsUUFDaEJMLEVBQUFBLE9BQU1NLElBQU9DLFFBQUksV0FDakJQLEVBQUFBLFVBQU1JLE9BQU4sY0FDQUosRUFBQUEsVUFBTUksT0FBTixVQUdBSSxFQUFBQSxJQUFjVCxNQUFJQSxVQUFNVSxDQUFBQSxVQUFXLFdBQVcsR0FJOUNDLENBRkFDLFdBRkEsZ0JBSUFELGNBQWUsQ0FBQyxHQUFJLE1BekI1QlYsRUFBQVksV0FBQUwsSUFBQUMsS0FJSSxJQUFBUixPQUFBQSxFQUFBUSxPQUFBQSxFQUpKLEdBb0NJLFdBQUEsSUFBQUssRUFHRkMsRUFBQUEsaUJBRkFDLEVBQWFDLEVBQUUsYUFJaEJDLEVBQUFELEVBQUEsY0FDQ0YsRUFBSUQsbUJBRUEsU0FBQUssSUFDR0wsRUFBQUEsU0FBQUEsVUFDSEEsRUFBQU0sWUFBQSxVQURHTixFQUFXTyxTQUFTLFVBTzNCRixFQUFBQSxHQUFBQSxRQUFBQSxTQUFBQSxHQUNBRyxFQUFBQyxpQkFGQVAsRUFBV1EsWUFBWVQsR0FJeEJHLE1BR0NBLEVBSERPLEdBQUEsUUFBQSxXQUNDVCxFQUFXSSxZQUFZTCxHQUl4QkUsTUFHTUQsRUFBQUEsUUFBQUEsT0FBQUEsV0FESSxLQUVKQSxFQUFBQSxRQUFBQSxVQUVB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MUJJLEVBSUluQixFQUVKb0IsRUFBSUMsS0FBUWxCLElBQUFBLEtBQWFtQixNQUFBTCxFQUFNQyxJQUMzQkMsRUFBQUEsU0FBV0osZUFBWFYsR0FEQWdCLEVBQVFsQixZQUFhLFdBSXpCZ0IsR0FSZ0IsR0FTWkksRUFBQUEsWUFBY0YsRUFMTkwsR0FPZkcsR0FDRkksY0FBQUYsSUFHSEQsTUE1R0ksR0FnSEE1RCxFQUFFLGlFQU9MZ0UsZUFBVyxDQUFBQyxrQkFBQSxXQVNSakUsSUFBQUEsS0FBRW5CLE9BT0RtQixFQUFBbkIsUUFQRHFGLE9BQUEsV0FTbUIsSUFBakJsRSxFQUFBbUUsTUFBRkMsWUFDSXBFLEVBQUUsVUFBQXFFLFNBWlZyRSxFQUFBLFVBQUFzRSxZQVdJdEUsRUFBRSxVQUFVdUUsTUFBTyxXQUNmdkUsRUFBRSxhQUFhd0UsUUFBUSxDQUFDSixVQUFVLEdBQUciLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIndpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgKCkgPT4ge1xyXG5cclxuXHJcbi8qINCa0JDQodCi0J7QnNCd0KvQlSDQodCa0KDQmNCf0KLQqyAqL1xyXG5cclxuXHJcbi8qIFlhbmRleCBtYXAgKi9cclxuXHJcbihmdW5jdGlvbiAoKXtcclxuXHJcbiAgICB5bWFwcy5yZWFkeShpbml0KTtcclxuXHJcbiAgICBsZXQgbXlNYXAsXHJcbiAgICAgICAgbXlQbGFjZW1hcms7XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpeyAgICBcclxuICAgICAgICBcclxuICAgICAgICBteU1hcCA9IG5ldyB5bWFwcy5NYXAoXCJ5YW5kZXgtbWFwXCIsIHtcclxuICAgICAgICAgICAgY2VudGVyOiBbNTUuNzUzNTk1LCAzNy42MjEwMzFdLFxyXG4gICAgICAgICAgICB6b29tOiAxNlxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBteU1hcC5iZWhhdmlvcnMuZGlzYWJsZShcInNjcm9sbFpvb21cIik7XHJcbiAgICAgICAgbXlNYXAuYmVoYXZpb3JzLmRpc2FibGUoJ2RyYWcnKTtcclxuICAgICAgICBteU1hcC5ldmVudHMuYWRkKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgICAgICBteU1hcC5iZWhhdmlvcnMuZW5hYmxlKFwic2Nyb2xsWm9vbVwiKVxyXG4gICAgICAgIG15TWFwLmJlaGF2aW9ycy5lbmFibGUoJ2RyYWcnKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgXHJcbiAgICAgICAgbXlQbGFjZW1hcmsgPSBuZXcgeW1hcHMuUGxhY2VtYXJrKFs1NS43NTM1OTUsIDM3LjYyMTAzMV0sIHt9LCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgeyAgICAgICAgIFxyXG4gICAgICAgIGljb25MYXlvdXQ6IFwiZGVmYXVsdCNpbWFnZVwiLFxyXG4gICAgICAgIGljb25JbWFnZVNpemU6IFsyMCwgMjBdICAgICAgICAgICBcclxuICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICBteU1hcC5nZW9PYmplY3RzLmFkZChteVBsYWNlbWFyayk7ICAgIFxyXG4gICAgfVxyXG5cclxufSkoKTtcclxuLyogTW9iaWxlIG1lbnUgKi9cclxuXHJcbihmdW5jdGlvbiAoKXtcclxuXHJcbiAgICBsZXQgbWVudUJ1dHRvbiA9ICQoJyNtZW51X19idXR0b24nKSxcclxuXHRcdG1lbnVNb2JpbGUgPSAkKCcubmF2LWxpc3QnKSxcclxuXHRcdG1lbnVMaW5rID0gJCgnLm5hdl9fbGluaycpLFxyXG5cdFx0bWVudU1vYmlsZU9wZW4gPSAnbmF2LWxpc3QtLWFjdGl2ZSc7XHJcblxyXG5cdGZ1bmN0aW9uIHNjcmVlbldpZHRoQ2hlY2soKSB7XHJcblx0XHRpZiAobWVudUJ1dHRvbi5oYXNDbGFzcygnYWN0aXZlJykpIHtcclxuXHQgICAgICAgIG1lbnVCdXR0b24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdCAgICB9IGVsc2Uge1xyXG5cdCAgICAgICAgbWVudUJ1dHRvbi5hZGRDbGFzcygnYWN0aXZlJyk7XHJcblx0ICAgIH1cclxuXHR9O1xyXG5cclxuXHRtZW51QnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcclxuXHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdG1lbnVNb2JpbGUudG9nZ2xlQ2xhc3MobWVudU1vYmlsZU9wZW4pO1xyXG5cdFx0c2NyZWVuV2lkdGhDaGVjaygpO1xyXG5cdH0pO1xyXG5cclxuXHRtZW51TGluay5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuXHRcdG1lbnVNb2JpbGUucmVtb3ZlQ2xhc3MobWVudU1vYmlsZU9wZW4pO1xyXG5cdFx0c2NyZWVuV2lkdGhDaGVjaygpO1xyXG5cdH0pO1xyXG5cclxuXHQkKHdpbmRvdykucmVzaXplKGZ1bmN0aW9uKCkge1xyXG5cdFx0bGV0IHcgPSAkKHdpbmRvdykud2lkdGgoKTtcclxuXHRcdFx0aWYgKHcgPiAxMDI0ICkge1xyXG5cdFx0XHQgICAgbWVudU1vYmlsZS5yZW1vdmVBdHRyKCdzdHlsZScpO1xyXG5cdFx0XHQgICAgbWVudU1vYmlsZS5yZW1vdmVDbGFzcyhtZW51TW9iaWxlT3Blbik7XHJcblxyXG5cdFx0XHQgICAgaWYgKG1lbnVCdXR0b24uaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcblx0ICAgICAgIFx0XHRcdG1lbnVCdXR0b24ucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG5cdCAgICAgICBcdFx0fVxyXG5cdFx0XHR9XHJcblx0fSk7XHJcblxyXG59KSgpO1xyXG4vKiBTbGljayBzbGlkZXIgY2Fyb3VzZWwgKi9cclxuXHJcbihmdW5jdGlvbiAoKXtcclxuXHJcbiAgICAkKCcjc2xpY2snKS5zbGljayh7XHJcbiAgICAgIGRvdHM6IGZhbHNlLFxyXG4gICAgICBpbmZpbml0ZTogZmFsc2UsXHJcbiAgICAgIHNwZWVkOiAxMDAwLFxyXG4gICAgICB0b3VjaE1vdmU6IHRydWUsXHJcbiAgICAgIGF1dG9wbGF5OiB0cnVlLFxyXG4gICAgICBzbGlkZXNUb1Nob3c6IDEsXHJcbiAgICAgIHNsaWRlc1RvU2Nyb2xsOiAxLFxyXG4gICAgICBkcmFnZ2FibGU6IHRydWUsXHJcbiAgICAgIHBhdXNlT25Ib3ZlcjogdHJ1ZSxcclxuICAgICAgcHJldkFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1wcmV2XCI+PHNwYW4+UHJldmlvdXM8L3NwYW4+PC9idXR0b24+JyxcclxuICAgICAgbmV4dEFycm93OiAnPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJzbGljay1hcnJvdyBzbGljay1uZXh0XCI+PHNwYW4+TmV4dDwvc3Bhbj48L2J1dHRvbj4nLFxyXG4gICAgICByZXNwb25zaXZlOiBbXHJcbiAgICAgICAgICB7XHJcbiAgICAgICAgICAgIGJyZWFrcG9pbnQ6IDYwMCxcclxuICAgICAgICAgICAgc2V0dGluZ3M6IHtcclxuICAgICAgICAgICAgICBhcnJvd3M6IGZhbHNlXHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICBdXHJcbiAgICB9KTtcclxuICAgIFxyXG59KSgpO1xyXG4vKiBDYWxjdWxhdG9yICovXHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcblxyXG4gICAgbGV0IHNxdWFyZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcXVhcmUnKSxcclxuICAgICAgICBsYW1wcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsYW1wcycpLFxyXG4gICAgICAgIGNoZWNrYm94ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FsYy1jaGVja2JveF9faXRlbScpLFxyXG4gICAgICAgIGNhbGNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FsY19fYnRuJyksXHJcbiAgICAgICAgY2FsY1RvdGFsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvdGFsJyksXHJcbiAgICAgICAgc3F1YXJlV2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zcXVhcmUtd2FybmluZycpLFxyXG4gICAgICAgIGxhbXBzV2FybmluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5sYW1wcy13YXJuaW5nJyksXHJcbiAgICAgICAgY2hlY2tib3hWYWx1ZSxcclxuICAgICAgICBsYW1wc1ByaWNlID0gNTAsXHJcbiAgICAgICAgdG90YWwgPSAwLFxyXG4gICAgICAgIHJlc3VsdCA9IDAsXHJcbiAgICAgICAgc3F1YXJlVmFsdWUgPSAwLFxyXG4gICAgICAgIGxhbXBzVmFsdWUgPSAwO1xyXG5cclxuICAgIGZ1bmN0aW9uIGlucHV0Q2hlY2soaWQsIHJlZ2V4KSB7XHJcbiAgICAgICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XHJcbiAgICAgICAgICAgIGlmIChlbGVtZW50KSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbGFzdFZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGxhc3RWYWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgIGxhc3RWYWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB9ICAgXHJcbiAgICAgICAgICAgIHNldEludGVydmFsKCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgbGV0IHZhbHVlID0gZWxlbWVudC52YWx1ZTtcclxuICAgICAgICAgICAgICBpZiAodmFsdWUgIT0gbGFzdFZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVnZXgudGVzdCh2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICBlbGVtZW50LnZhbHVlID0gbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgMTApO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgaW5wdXRDaGVjaygnc3F1YXJlJywgL15cXGQqXFwuP1xcZCokLyk7IC8vINCU0YDQvtCx0L3Ri9C1INGH0LjRgdC70LAg0YEg0L7QtNC90L7QuSDRgtC+0YfQutC+0LkgXHJcbiAgICBpbnB1dENoZWNrKCdsYW1wcycsIC9eWzAtOV0/WzAtOV0qJC8pOyAvLyDQotC+0LvRjNC60L4g0YbQtdC70YvQtSDRh9C40YHQu9CwXHJcblxyXG4gICAgc3F1YXJlLmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKCkgPT4ge1xyXG5cdCAgICBzcXVhcmVWYWx1ZSA9IHNxdWFyZS52YWx1ZTtcclxuXHQgICAgc3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0ICAgIGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJyc7XHJcblx0ICAgIGNhbGNUb3RhbC50ZXh0Q29udGVudCA9IDA7XHJcbiAgICAgICAgdG90YWwgPSBjaGVja2JveFZhbHVlICogc3F1YXJlVmFsdWUgKyAobGFtcHNWYWx1ZSAqIGxhbXBzUHJpY2UpO1xyXG5cdH0pO1xyXG5cclxuXHRsYW1wcy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsICgpID0+IHtcclxuXHRcdGxhbXBzVmFsdWUgPSBsYW1wcy52YWx1ZTtcclxuXHRcdHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdCAgICBsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG4gICAgICAgIGNhbGNUb3RhbC50ZXh0Q29udGVudCA9IDA7XHJcbiAgICAgICAgdG90YWwgPSBjaGVja2JveFZhbHVlICogc3F1YXJlVmFsdWUgKyAobGFtcHNWYWx1ZSAqIGxhbXBzUHJpY2UpO1xyXG5cdH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIGNoZWNrYm94ZXNDaGVjaygpIHsgXHRcclxuXHQgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoZWNrYm94ZXMubGVuZ3RoOyBpKyspIHtcclxuXHQgICBcdCAgICBpZiAoY2hlY2tib3hlc1tpXS5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgIGNoZWNrYm94VmFsdWUgPSBjaGVja2JveGVzW2ldLnZhbHVlO1xyXG5cdCAgIFx0ICAgIH1cclxuXHQgICBcdCBcclxuXHQgICBcdCAgICBjaGVja2JveGVzW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNhbGNUb3RhbC50ZXh0Q29udGVudCA9IDA7XHJcbiAgICAgICAgICAgICAgIFx0Y2hlY2tib3hWYWx1ZSA9IGNoZWNrYm94ZXNbaV0udmFsdWU7XHJcbiAgICAgICAgICAgICAgICB0b3RhbCA9IGNoZWNrYm94VmFsdWUgKiBzcXVhcmVWYWx1ZSArIChsYW1wc1ZhbHVlICogbGFtcHNQcmljZSk7XHJcblx0ICAgXHQgICB9KTsgIFxyXG5cdCAgICB9XHJcblx0fTtcclxuICAgIGNoZWNrYm94ZXNDaGVjaygpO1xyXG5cdFxyXG4gICAgY2FsY0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgIFx0aWYgKHNxdWFyZVZhbHVlID09ICcnICYmIGxhbXBzVmFsdWUgPT0gJycpIHtcclxuICAgIFx0XHR0b3RhbCA9IDA7XHJcbiAgICBcdFx0c3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0XHRsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdH0gZWxzZSBpZiAoc3F1YXJlVmFsdWUgPT0gMCAmJiBsYW1wc1ZhbHVlID09IDApIHtcclxuICAgIFx0XHR0b3RhbCA9IDA7XHJcbiAgICBcdFx0c3F1YXJlV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0XHRsYW1wc1dhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XHJcbiAgICBcdH0gZWxzZSBpZiAoc3F1YXJlVmFsdWUgPT0gJycgfHwgc3F1YXJlVmFsdWUgPT0gMCkge1xyXG4gICAgXHRcdHRvdGFsID0gMDtcclxuICAgIFx0XHRzcXVhcmVXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xyXG4gICAgXHR9IGVsc2UgaWYgKGxhbXBzVmFsdWUgPT0gJycgfHwgbGFtcHNWYWx1ZSA9PSAwKSB7XHJcbiAgICBcdFx0dG90YWwgPSAwO1xyXG4gICAgXHRcdGxhbXBzV2FybmluZy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcclxuICAgIFx0fSBlbHNlIHtcclxuICAgIFx0ICAgIHNxdWFyZVdhcm5pbmcuc3R5bGUuZGlzcGxheSA9ICcnO1xyXG5cdCAgICAgICAgbGFtcHNXYXJuaW5nLnN0eWxlLmRpc3BsYXkgPSAnJztcclxuICAgICAgICAgICAgYW5pbWF0ZVZhbHVlKCd0b3RhbCcsIDAsIHRvdGFsLCAzMDAwKTtcclxuICAgIFx0fSAgIFxyXG5cdH0pO1xyXG5cclxuXHRmdW5jdGlvbiBhbmltYXRlVmFsdWUoaWQsIHN0YXJ0LCBlbmQsIGR1cmF0aW9uKSB7XHJcbiAgICAgICAgbGV0IHJhbmdlID0gZW5kIC0gc3RhcnQsXHJcbiAgICAgICAgICAgIGN1cnJlbnQgPSBzdGFydCxcclxuICAgICAgICAgICAgaW5jcmVtZW50ID0gNTAsXHJcbiAgICAgICAgICAgIHN0ZXBUaW1lID0gTWF0aC5hYnMoTWF0aC5mbG9vcihkdXJhdGlvbiAvIHJhbmdlKSksXHJcbiAgICAgICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7IFxyXG4gICAgXHJcbiAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoICgpID0+IHtcclxuICAgICAgICAgICAgY3VycmVudCArPSBpbmNyZW1lbnQ7IFxyXG4gICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ICA9IGN1cnJlbnQ7IFxyXG5cclxuICAgICAgICBpZiAoY3VycmVudCA+PSBlbmQpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7XHJcbiAgICAgICAgfVxyXG4gICAgfSwgc3RlcFRpbWUpO1xyXG4gIH1cclxuXHJcbn0pKCk7XHJcbi8qIFNtb290aCBzY3JvbGwgKi9cclxuXHJcbihmdW5jdGlvbiAoKXsgXHJcblxyXG4gICAgJChcIm5hdiBhLGFbaHJlZj0nI3RvcCddLGFbcmVsPSdtX1BhZ2VTY3JvbGwyaWQnXSxhLlBhZ2VTY3JvbGwyaWRcIilcclxuICAgICAgICAubVBhZ2VTY3JvbGwyaWQoe2hpZ2hsaWdodFNlbGVjdG9yOlwibmF2IGFcIlxyXG4gICAgfSk7XHJcblxyXG59KSgpO1xyXG4vKiBXb3cgc2NyaXB0ICovXHJcblxyXG4oZnVuY3Rpb24gKCl7IFxyXG5cclxuICAgIG5ldyBXT1coKS5pbml0KCk7XHJcblxyXG59KSgpO1xyXG4vKiBTY3JvbGwgdG8gdG9wICovXHJcblxyXG4oZnVuY3Rpb24gKCl7IFxyXG4gXHJcbiAgICAkKHdpbmRvdykuc2Nyb2xsKCBmdW5jdGlvbigpIHtcclxuIFxyXG4gICAgICAgIGlmKCQodGhpcykuc2Nyb2xsVG9wKCkgPiA3MDApIHtcclxuICAgICAgICAgICAgJCgnI3RvVG9wJykuZmFkZUluKCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCgnI3RvVG9wJykuZmFkZU91dCgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gXHJcbiAgICAkKCcjdG9Ub3AnKS5jbGljayggZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgJCgnYm9keSxodG1sJykuYW5pbWF0ZSh7c2Nyb2xsVG9wOjB9LDgwMCk7XHJcbiAgICB9KTtcclxuIFxyXG59KSgpO1xyXG5cclxufSk7Il19
